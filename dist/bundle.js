/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./app.js":
/*!****************!*\
  !*** ./app.js ***!
  \****************/
/***/ (() => {

eval("const URL_API=\"https://eunurtstlwiselpnhdlx.supabase.co/rest/v1/Apprenant\";\nconst API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTY0MDY4ODAyNCwiZXhwIjoxOTU2MjY0MDI0fQ.TmCrjrlgP1Eos7T1RFWTm2xZTwhIognYalzkL1ZFhoo\";\nconst ApprenantsData=[]\n\n//Recuperation des dom de la carte\nconst containerCarte=document.querySelector('.charge-cartes')\n\nconst identifiant=document.querySelector('#id-datas');\n// console.log(identifiant);\n// console.log(containerCarte);\n\n//Recuperation dom du formulaire\nconst nomApp=document.querySelector('.nom-app');\nconst prenomApp=document.querySelector('.prenom-app ');\nconst niveauApp=document.querySelector('.les-niveau-app');\nconst biographieApp=document.querySelector('.bioApp');\nconst compteurMotSaisie=document.querySelector('#mot-saisie')\nconst progressMotSaisie=document.querySelector('#progressChar');\nconst restantDeMoSaisie=document.querySelector('#restant-saisie');\nconst buttonAjouterApp=document.querySelector('.ajouter-app');\nconst formulaireAddApp=document.querySelector('form');\n\nconst displayError=document.querySelector('.error-message')\n\nconst buttonModifier=document.querySelector('.modifer-app');\n\nconst modifierData=document.querySelector('#modifer-data');\n\nconst saveData=document.querySelector('#save-data');\n\nconst competenceMaquette=document.querySelector('.la-comptence-mquette');\nconst comptenceUserStatiqueAdaptable=document.querySelector('.la-comptence-user-statique');\nconst comptenceUserDynamique=document.querySelector('.la-comptence-user-dynamique');\nconst comptenceUserGestionContenu=document.querySelector('.la-comptence-user-gestion-contenu');\nconst comptenceCreateDb=document.querySelector('.la-comptence-cree-db');\nconst comptenceComposantAcces=document.querySelector('.la-comptence-composant-accees');\nconst comptenceDevlopperBackend=document.querySelector('.la-comptence-developper-backend');\nconst comptenceComposantAplication=document.querySelector('.la-comptence-composant-application');\n// console.log(comptenceComposantAplication,comptenceDevlopperBackend,comptenceComposantAcces);\n\n\n// console.log(modifierData);\n// console.log(nomApp,prenomApp,niveauApp,\n//     biographieApp,progressMotSaisie,restantDeMoSaisie,\n//     compteurMotSaisie,formulaireAddApp,buttonAjouterApp);\n\n\n//Ajout dans la base de donner\nformulaireAddApp.addEventListener('submit',(e)=>{\n    e.preventDefault();\n    if(nomApp.value.trim()===\"\"){\n        nomApp.classList.add('error');\n        // displayError.textContent=\"Le nom ne doit pas etre vide\"\n        displayError.style.color=\"#ce0033\";\n    }else if(prenomApp.value.trim()===\"\"){\n        prenomApp.classList.add('error');\n        // displayError.textContent=\"Le prenom ne doit pas etre vide\"\n        displayError.style.color=\"#ce0033\";   \n    }else if(niveauApp.value.trim()===\"\"){\n        niveauApp.classList.add('error');\n        // displayError.textContent=\"Le niveau ne doit pas etre vide\"\n        displayError.style.color=\"#ce0033\";  \n    }else if(biographieApp.value.trim()===\"\"){\n        biographieApp.classList.add('error');\n        // displayError.textContent=\"La biographie ne doit pas etre vide\"\n        displayError.style.color=\"#ce0033\";  \n    }else if(identifiant.value==''){\n        const newApprenants={\n            id:Date.now(),\n            nom:nomApp.value,\n            prenoms:prenomApp.value,\n            niveau:niveauApp.value,\n            biographie:biographieApp.value,\n            competenceMaquette:competenceMaquette.value,\n            competenceUserInterface:comptenceUserStatiqueAdaptable.value,\n            competenceUserInterfaceDynamique:comptenceUserDynamique.value,\n            competenceGestionContenu:comptenceUserGestionContenu.value,\n            competenceCreationDb:comptenceCreateDb.value,\n            competenceAccesAuxDonnee:comptenceComposantAcces.value,\n            competenceDevelopperBkend:comptenceDevlopperBackend.value,\n            competenceEnApplicationContenu:comptenceComposantAplication.value\n        }\n        createCarte(newApprenants);\n        ApprenantsData.push(newApprenants);\n        console.log(ApprenantsData);\n       \n        // console.log(identifiant.value);\n    }else{\n        const dataEdit={\n            id:Date.now(),\n            nom:nomApp.value,\n            prenoms:prenomApp.value,\n            niveau:niveauApp.value,\n            biographie:biographieApp.value,\n            competenceMaquette:competenceMaquette.value,\n            competenceUserInterface:comptenceUserStatiqueAdaptable.value,\n            competenceUserInterfaceDynamique:comptenceUserDynamique.value,\n            competenceGestionContenu:comptenceUserGestionContenu.value,\n            competenceCreationDb:comptenceCreateDb.value,\n            competenceAccesAuxDonnee:comptenceComposantAcces.value,\n            competenceDevelopperBkend:comptenceDevlopperBackend.value,\n            competenceEnApplicationContenu:comptenceComposantAplication.value\n        }\n        ApprenantsData.splice(identifiant.value,1,dataEdit)\n        containerCarte.innerHTML=\"\";\n        ApprenantsData.forEach(carte=>{\n            createCarte(carte);\n        })\n        identifiant.value='';\n        console.log(ApprenantsData);\n    }\n    removeChamp();\n    \n    \n   \n})\n\n\n\n//Je vais faire le control de saisie sur le champs message\nbiographieApp.addEventListener('input',(e)=>{\n    let longueurMaxSaisie=130;\n    let longueurMot=biographieApp.value.length;\n    let leReste=longueurMaxSaisie-longueurMot;\n    progressMotSaisie.textContent=longueurMot;\n    restantDeMoSaisie.textContent=\"Il vous reste \" +leReste+ \" Caracteres\";\n    if(leReste<0){\n        restantDeMoSaisie.textContent=\"Vous avez depasser le nombre de mots\";\n        buttonAjouterApp.disable=true;\n        compteurMotSaisie.style.color=\"#ce0033\";\n    }else if(leReste<=16){\n        buttonAjouterApp.disable=false;\n        compteurMotSaisie.style.color=\"yellow\";\n\n    }else{\n        compteurMotSaisie.style.color=\"#000000\"\n        buttonAjouterApp.disabled = false;\n    }\n})\n// console.log(ApprenantsData);\n\n\n//Creation d'une carte.\n\n\n\n\n//Creation d'une carte qui me permet de d'ajouter en html dynamiquement\nfunction createCarte(carte){\n    //Je vais recupere id de la carte\n    let idCarte=\"id_carteAsuprimer\"+carte.id;\n    let idButtonSupprimer=\"id_btnSupprime\"+carte.id;\n    let idButtonModifier=\"id_btnModifier\"+carte.id;\n    // console.log(idCarte , idButtonSupprimer);\n    containerCarte.insertAdjacentHTML(\"beforeend\",\n    `\n        <div class=\"carte-resulat-apprenant\" id=\"${idCarte}\">\n            <div class=\"avatar-app\">\n                <img src=\"images/image-app.png\" alt=\"\" style=\"height: 70%; width: 70%;\">\n                \n            </div>\n            <div class=\"column\">\n                <div class=\"nom-prenom-app\">\n                    <h6 class=\"nom-app mx-2\">${carte.nom}</h6>\n                    <h6 class=\"prenom-app mx-2\">${carte.prenoms}</h6>\n                    <div class=\"btn-delet-edit\">\n                        <a href=\"\"><i id=\"${idButtonModifier}\" class=\"bi bi-pencil-fill mx-3\" style=\"font-size: 1.5rem;\"></i></a>\n                        <a href=\"\"><i id=\"${idButtonSupprimer}\" class=\"bi bi-x-circle mx-3\" style=\"font-size: 1.5rem; color: #ce0033;\"></i></a>\n                    </div> \n                </div>\n                <p>${carte.biographie}</p>\n                <h4 class=\"text-end mx-4\">${carte.niveau}</h4>\n            </div>                       \n        </div>\n    `)\n\n    //Le button qui va me permettre de supprimer\n    const deleteBtn=document.querySelector('#'+idButtonSupprimer);\n    const carteAsupprimer=document.querySelector('#'+idCarte);\n    // console.log(deleteBtn,carteAsupprimer);\n    deleteBtn.addEventListener('click',(e)=>{\n        e.preventDefault();\n        \n        const indexElement=ApprenantsData.indexOf(carte);\n        // console.log(indexElement);\n        // console.log(ApprenantsData);\n        if(indexElement>-1){\n            ApprenantsData.splice(indexElement,1);\n            carteAsupprimer.remove();\n            // console.log(arr);\n            console.log(ApprenantsData);  \n        }\n    })\n\n    //le button qui va me permettre de modifier;\n    const editBtn=document.querySelector('#'+idButtonModifier);\n    // console.log(editBtn);\n    editBtn.addEventListener('click',(e)=>{\n        e.preventDefault();\n        // alert(\"modifier\");\n        const indexElement=ApprenantsData.indexOf(carte);\n        identifiant.value=indexElement;\n        nomApp.value=ApprenantsData[indexElement].nom;\n        prenomApp.value=ApprenantsData[indexElement].prenoms;\n        niveauApp.value=ApprenantsData[indexElement].niveau;\n        biographieApp.value=ApprenantsData[indexElement].biographie;\n        competenceMaquette.value=ApprenantsData[indexElement].competenceMaquette;\n        comptenceUserStatiqueAdaptable.value=ApprenantsData[indexElement].competenceUserInterface;\n        comptenceUserDynamique.value=ApprenantsData[indexElement].competenceUserInterfaceDynamique;\n        comptenceUserGestionContenu.value=ApprenantsData[indexElement].competenceGestionContenu;\n        comptenceCreateDb.value=ApprenantsData[indexElement].competenceCreationDb;\n        comptenceComposantAcces.value=ApprenantsData[indexElement].competenceAccesAuxDonnee;\n        comptenceDevlopperBackend.value=ApprenantsData[indexElement].competenceDevelopperBkend;\n        comptenceComposantAplication.value=ApprenantsData[indexElement].competenceEnApplicationContenu;\n        console.log(indexElement);\n    })\n\n}\n\nsaveData.addEventListener('click',(e)=>{\n    //Je vais sauvegarder les data dans la base de donner\n    ApprenantsData.forEach(apprenant=>{\n        delete apprenant['id'];\n        fetch(URL_API,{\n            method:\"POST\",\n            headers:{\n                \"Content-Type\": \"application/json\",\n                apikey:API_KEY,\n                Prefer: \"return=representation\" \n            },\n            body:JSON.stringify(apprenant),\n    \n        })\n        .then((response)=>response.json())\n        .then((data)=>{\n            console.log(data); \n            containerCarte.innerHTML=\"\"; \n        })\n    })\n  \n    ApprenantsData.splice(0,ApprenantsData.length);\n    console.log(ApprenantsData);\n    \n    // console.log(ApprenantsData);\n})\n\n\n\n\nApprenantsData.forEach((carte)=>createCarte(carte));\n\n//Je cree une fonction pour vider les champs\nfunction removeChamp(){\n    nomApp.value=\"\";\n    prenomApp.value=\"\";\n    niveauApp.value=\"\";\n    biographieApp.value=\"\";\n    competenceMaquette.value=\"\";\n    comptenceUserStatiqueAdaptable.value=\"\";\n    comptenceUserDynamique.value=\"\";\n    comptenceUserGestionContenu.value=\"\";\n    comptenceCreateDb.value=\"\";\n    comptenceComposantAcces.value=\"\";\n    comptenceDevlopperBackend.value=\"\";\n    comptenceComposantAplication.value=\"\";\n\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//Je cree une function qui va me valider les champs\n// function setError(champName, message){\n//     displayError.textContent=message;\n//     const champControl=element.parentElement;\n//     champControl.classList.add('error');\n//     champControl.classList.remove('succees');\n// }\n// function setSuccess(){\n//     displayError.textContent=\"\";\n//     const champControl=element.parentElement;\n//     champControl.classList.add('succees');\n//     champControl.classList.remove('error');\n// }\n\n\n// function valideChamps(){\n//     let champNom=nomApp.value.trim();\n//     let champPrenom=prenomApp.value.trim();\n//     let champNiveau=niveauApp.value.trim();\n//     let champBiographie=biographieApp.value.trim();\n\n//     if(champNom===\"\"){\n//         setError(champNom,\"ok nom\")\n//     }else{\n//         setSuccess();\n//     }\n// }\n\n//# sourceURL=webpack://scroll-app-js/./app.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./app.js"]();
/******/ 	
/******/ })()
;